// Tooltip

// revise in beta

$triangle-size: 6px; // = height of triangle, width is 2x
$tooltip-width: 200px;
$fade: 300ms;

//todo move ? improve
@mixin tooltip($direction: top-left, $bg-color: #000, $title: false) {
	position: relative;

	&:before, &:after {
		opacity: 0;
		//	@include transition(opacity $fade, visibility 0ms linear $fade); // delay visibility on fade out
		pointer-events: none;
		z-index: 98;
		//@include respondTo(smartphone){ display: none; }
	}

	&:before {
		background-color: $bg-color;
		border-radius: $border-radius;
		box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
		content: attr(data-tooltip);
		font-size: 13px;
		font-weight: normal;
		line-height: 18px;
		color: $color-white;
		padding: 10px 15px;
		position: absolute;
		text-align: left;
		white-space: normal;
		width: $tooltip-width;
		//@if lightness($bg-color) < 50% { // dynamically determine light or dark color based on $bg-color --GOOD IDEA TO USE IN ALL PROJECT
		//	color: $white;
		//} @else {
	//		color: $black;
	//	}
	}
	&:after { 
		content: ''; 
	} // tooltip carrot

	&:hover {
		&:before, &:after {
			opacity: 1;
			pointer-events: all;
			//@include transition-delay(0ms);
		}
	}

	@if $direction == 'top-left' or $direction == 'top-right' {
		&:before {
			@include transform(translateY(-100%));
			 bottom: auto; 
			top: -($triangle-size + 3px);
		}

		&:after {
			@include triangle(down, $triangle-size, $bg-color);
			 bottom: auto;
			top: -($triangle-size + 3px);
		}
	}
	@else if $direction == 'bottom-right' or $direction == 'bottom-left' {
		&:before {
			@include transform(translateY(100%));
			bottom: -($triangle-size + 3px);
			 top: auto; 
		}

		&:after {
			@include triangle(up, $triangle-size, $bg-color);
			bottom: -($triangle-size + 3px); 
			top: auto;
		}
	}

	@if $direction == 'top-right' or $direction == 'bottom-right' {
		&:before, &:after {
			left: 50%;
			margin-left: -$triangle-size; 
			right: auto;
		}

		&:before { 
			margin-left: -$triangle-size * 3;
		 }
	}

	@else if $direction == 'top-left' or $direction == 'bottom-left' {
		&:before, &:after { 
			left: auto;
			margin-right: -$triangle-size;
			right: 50%;
		}

		&:before { 
			margin-right: -$triangle-size * 3;
		 }
	}
}
